<!DOCTYPE html>
<head>
  <title>Shatter</title>


  <link rel="stylesheet" href="/CSS/theme-index.css" />
	<link rel="stylesheet" href="/CSS/index.css" />
  <link rel="icon" type="image/x-icon" href="/UI/favicon.ico" />

  <!-- main js stuff, copy paste -->
  <script src="/JS/supabase.js"></script>
  <script src="/JS/accounts.js"></script>
  <script src="/JS/fetch.js"></script>
  <script src="/JS/main.js" type="module"></script>

  <style>
    .background {
			background: var(--color-major);
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: -5;
		}

    #display {
      width: 100%;
      height: 100vh;
    }
    html,
    body {
      overflow: hidden;
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
    }
  </style>
</head>
  
<body>
  <div class="background"></div>

  <script src="../JS/fetch.js"></script>

  <script type="module">
    const tools = await FFFF("tools", "dir");
    tools.forEach((tool) => {
      let button = document.createElement("button");
      button.textContent = String(tool);
      button.onclick = function () {
        createIframe("../tools/" + tool);
      };

      document.body.appendChild(button);
    });

    function createIframe(src) {
      const closeButton = document.createElement("button");
      closeButton.id = "closeButton";
      document.body.appendChild(closeButton);
      closeButton.onclick = function () {
        document.body.removeChild(document.getElementById("display"));
        document.body.removeChild(document.getElementById("closeButton"));
      };

      const iframe = document.createElement("iframe");
      iframe.id = "display";
      iframe.src = src;
      iframe.frameBorder = 0;
      document.body.appendChild(iframe);
    }
  </script>
</body>
