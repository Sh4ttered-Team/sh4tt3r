<!DOCTYPE html>
<head>
  <title>Shatter</title>


  <link rel="stylesheet" href="../CSS/theme-index.css" />
	<link rel="stylesheet" href="../CSS/index.css" />
  <link rel="icon" type="image/x-icon" href="../UI/favicon.ico" />

  <!-- main js stuff, copy paste -->
  <script src="../JS/supabase.js"></script>
  <script src="../JS/accounts.js"></script>
  <script src="../JS/fetch.js"></script>
  <script src="../JS/main.js" type="module"></script>
  
  <loading></loading>
  
  <style>

    #display {
      width: 100%;
      height: 100vh;
    }
    
    body {
      overflow: hidden;
    }
  </style>
</head>
  
<body>
  <div class="background"></div>

  <script src="../JS/fetch.js"></script>

  <script type="module">
    window.showLoadingScreen();
    const tools = await FFFF('sh4ttered-team/sh4tt3r', "tools", "dir");
    tools.forEach((tool) => {
      let button = document.createElement("button");
      button.textContent = String(tool);
      button.onclick = function () {
        createIframe("../tools/" + tool);
      };

      document.body.appendChild(button);
      window.hideLoadingScreen();
    });

    function createIframe(src) {
      const closeButton = document.createElement("button");
      closeButton.id = "closeButton";
      closeButton.textContent = 'X'; 
      closeButton.onclick = function () {
        document.body.removeChild(document.getElementById("display"));
        document.body.removeChild(document.getElementById("closeButton"));
      };
      document.body.appendChild(closeButton);

      const iframe = document.createElement("iframe");
      iframe.id = "display";
      iframe.src = src;
      iframe.frameBorder = 1;
      document.body.appendChild(iframe);
    }
  </script>
</body>
