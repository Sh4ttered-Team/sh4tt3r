<!DOCTYPE html>
<head>
  <title>Shatter</title>

  <link rel="stylesheet" href="./CSS/theme-index.css" />
	<link rel="stylesheet" href="./CSS/index.css" />
  <link rel="icon" type="image/x-icon" href="./UI/favicon.ico" />

  <!-- main js stuff, copy paste -->
  <script src="./JS/supabase.js"></script>
  <script src="./JS/accounts.js"></script>
  <script src="./JS/fetch.js"></script>
  <script src="./JS/main.js" type="module"></script>

  <style>
    body {
			margin: 0;
			padding: 0;
			overflow: hidden;
		}

    .background {
			background: var(--color-major);
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: -5;
		}
  </style>
</head>

<body>
  <div class="background"></div>

  <script src="./JS/fetch.js"></script>

  <script type="module">
    const games = await FFFF("game-sources", "dir");
    games.forEach((game) => {
      let button = document.createElement("button");
      button.textContent = String(game);
      button.onclick = function () {
        window.location.href = "./-play.html" + "?id=" + String(game);
      };

      document.body.appendChild(button);
    });
    const flashgames = await FFFF("game-sources/-flash", "file");
    flashgames.forEach((game) => {
      let button = document.createElement("button");
      button.textContent = String(game).replace('.swf','');
      button.onclick = function () {
        window.location.href =
          "./-play.html" + "?id=" + String(game) + "&flash=true";
      };

      document.body.appendChild(button);
    });
  </script>
</body>
